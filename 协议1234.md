## 协议1 AI->SDK

round指信息对应的回合

若round不等于当前回合，则logic会忽略此信息



get_game_info(self)

​	无参数

​	返回当前回合的局面信息,包含回合、地图单位、神器等。

​	无返回值

summon(self, round, type, star, position)

​	round: int type: str star: int position: list(三元)

​	于round回合，在position处召唤一个本方类型为type，星级为star的单位

​	无返回值

move(self, round, mover, position)

​	round: int mover: int position: list(三元)

​	于round回合，将地图上id为mover的单位移动到地图position处

​	无返回值

attack(self, round, attacker, target)

​	round: int attacker: int target: int

​	于round回合，令地图上id为attacker的单位攻击地图上id为target的单位

​	无返回值

end(self, round)

​	round: int

​	结束当前回合（round回合）

​	无返回值



## 协议2 SDK->logic

get_game_info

```
{
	"operation_type": "gameinfo"
}
```




summon

```
{
	"round": 1,
	"operation_type": "summon",	
	"operation_parameters": 
	{
		"position": [1, 2, 3], 	
		"type": "Elf",	 		
		"star": 5	
	}
}
```

"round"的值为整数 表示当前回合

"position"的值为三元数组 表示地图位置

"type"的值为一个字符串 表示召唤单位

"star"的值为整数 表示星级



move

```
{
	"round": 2,
	"operation_type": "move",	
	"operation_parameters": 
	{
		"mover": 1, 
		"position": [x, y, z]
	}
}
```

"round"的值为整数 表示当前回合

"mover"的值为整数 表示移动单位的id

"position"的值为三元数组 表示地图位置



attack

```
{
	"round": 3,
	"operation_type": "attack",	
	"operation_parameters": 
	{
		"attacker": 1, 	
		"target": 5,
	}
}
```

"round"的值为整数 表示当前回合

"attacker"的值为整数 表示攻击单位的id

"target"的值为整数 表示被攻击单位的id





end

```
{
	"round": 1,
	"operation_type": "end"
}
```

"round"的值为整数 表示当前回合



## 协议3 logic->player

|播放器协议  | 版本0 |      |       |      |      |      |
| ------------ | ----------- | ---- | ----- | ---- | ---- | :--- |
| 0(游戏开始) |             |      |       |      |      |      |
| round        | 1(回合开始) | ID   | 0     | 0    | 0    | 0    |
| round        | 2(回合结束) | ID   | 0     | 0    | 0    | 0    |
| round        | 3(召唤)     | type | level | x    | y    | id0  |
| round        | 4(移动)     | id0 | x    | y   | 0    | 0    |
| round        | 5(攻击)     | id1  | id2   | 0    | 0    | 0    |
| round        | 6(伤害)     | id2  | id1   | d    | 0    | 0    |
| round        | 7(死亡)     | id0  | 0     | 0    | 0    | 0    |
| round        | 8(治疗)     | id2  | id1   | h    | 0    | 0    |
| round        | 9(神器)     | ID   | ？    | ？   | ？   | ？   |
| round        | 10(结束)    | ID   | 0     | 0    | 0    | 0    |
| -1(游戏结束) |             |      |       |      |      |      |

第一个数字表示版本号，同时也表示游戏（录像文件）开始

1: ID(0/1)方玩家开始回合round

2: ID(0/1)方玩家结束回合round （不一定意味着下个回合开始）

3: round回合在x y处召唤类型为type等级为level的单位 其id为id0

4: round回合id为id0的单位移动到x y处

5: round回合id为id1的单位攻击id为id2的单位（不结算伤害）

6: round回合id为id2的单位受到来自id为id1的单位d点伤害

7: round回合id为id0的单位死亡

8: round回合id为id2的单位受到来自id为id1的单位h点治疗

9: round回合ID(0/1)方玩家使用神器 (神器还没完全设计完毕，参数待定)

10: round回合ID(0/1/2)方玩家获胜 其中2表示平局

最后一个数字固定为-1，表示游戏（录像文件）结束

0方玩家神迹id暂定为0 1方玩家神迹id暂定为1

其中Summon命令对应的type（暂定）:

1:  0方剑士
2: 0方弓箭手
3:  0方黑蝙蝠
4:  0方牧师
5:  0方火山龙
11:  1方剑士
12:  1方弓箭手
13:  1方黑蝙蝠
14:  1方牧师
15:  1方火山龙


## 协议4 logic->replay

与协议三一致(暂定)