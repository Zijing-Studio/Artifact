## 协议1 AI->SDK

round指信息对应的回合

若round不等于当前回合，则logic会忽略此信息



get_game_info(self)

​	无参数

​	返回当前回合的局面信息,包含回合、地图单位、神器等。

​	无返回值

summon(self, round, type, star, position)

​	round: int type: str star: int position: list(三元)

​	于round回合，在position处召唤一个本方类型为type，星级为star的单位

​	无返回值

move(self, round, mover, position)

​	round: int mover: int position: list(三元)

​	于round回合，将地图上id为mover的单位移动到地图position处

​	无返回值

attack(self, round, attacker, target)

​	round: int attacker: int target: int

​	于round回合，令地图上id为attacker的单位攻击地图上id为target的单位

​	无返回值

end(self, round)

​	round: int

​	结束当前回合（round回合）

​	无返回值



## 协议2 SDK->logic

get_game_info

```
{
	"operation_type": "gameinfo"
}
```




summon

```
{
	"round": 1,
	"operation_type": "summon",	
	"operation_parameters": 
	{
		"position": [1, 2, 3], 	
		"type": "Elf",	 		
		"star": 5	
	}
}
```

"round"的值为整数 表示当前回合

"position"的值为三元数组 表示地图位置

"type"的值为一个字符串 表示召唤单位

"star"的值为整数 表示星级



move

```
{
	"round": 2,
	"operation_type": "move",	
	"operation_parameters": 
	{
		"mover": 1, 
		"position": [x, y, z]
	}
}
```

"round"的值为整数 表示当前回合

"mover"的值为整数 表示移动单位的id

"position"的值为三元数组 表示地图位置



attack

```
{
	"round": 3,
	"operation_type": "attack",	
	"operation_parameters": 
	{
		"attacker": 1, 	
		"target": 5,
	}
}
```

"round"的值为整数 表示当前回合

"attacker"的值为整数 表示攻击单位的id

"target"的值为整数 表示被攻击单位的id





end

```
{
	"round": 1,
	"operation_type": "end"
}
```

"round"的值为整数 表示当前回合



## 协议3 logic->player

二进制串

0 									版本号

round 0 type	level	x   y   id0	round回合在x y处召唤类型为type，星级为level的单位，id为id0

round 1 id0		x      	y 	0   0   round回合令id为id0的单位移动到x y处

round 2 id1     id2   	0   0   0	round回合令id为id1的单位攻击id为id2的单位（不结算伤害）

round 3 id2 	id1 	d 	0	0	round回合id为id2的单位受到来自id为id1的单位d点伤害

round 4 id0     0       0   0   0   round回合id为id0的单位死亡

round 5 0/1/2   0       0   0   0   round回合0/1玩家获胜 2表示平局

-1									结束

0方玩家神迹id暂定为0 1方玩家神迹id暂定为1

其中Summon命令对应的type前两位数:

1. 剑士
2. 弓兵
3. 狙击手
4. 斥候
5. 蝙蝠
6. 法师
7. 攻城兽
8. 大地之龙
9. 火山之龙
10. 天空之龙
11. 海洋之龙
12. 树人
13. 爆破虫
14. （14~26为另一阵营的相同生物）

一个很随便的例子:
0
0,  0,  1,  1, -5,-11,  3,  # -5,-11,16召唤id为3的0方1星剑士
0,  0,  5,  1, -7,-12,  4,  # -7 -12 19 召唤id为4的0方1星蝙蝠
1,  0, 15,  1,  9,-24,  5,  # 9 -24 15 召唤id为5的1方1星弓手
2,  1,  3, -2,-14,  0,  0,  # 剑士移动
3,  1,  5,  6,-21,  0,  0,  # 弓手移动
4,  1,  3,  1,-16,  0,  0,  # 剑士移动
5,  1,  5,  3,-18,  0,  0,  # 弓手移动
7,  2,  5,  3,  0,  0,  0,  # 弓手攻击
7,  3,  3,  5,  1,  0,  0,  # 剑士受到1点伤害
8,  1,  3,  2,-17,  0,  0,  # 剑士移动
10, 2,  3,  5,  0,  0,  0,  # 剑士攻击
10, 3,  5,  3,  1,  0,  0,  # 弓手受到1点伤害
10, 4,  5,  0,  0,  0,  0,  # 弓手死亡
12, 1,  3,  5,-20,  0,  0,  # 剑士移动
14, 1,  3,  8,-23,  0,  0,  # 剑士移动
16, 1,  3,  8,-24,  0,  0,  # 剑士移动
18, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
18, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   28/30
20, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
20, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   26/30
22, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
22, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   24/30
24, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
24, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   22/30
26, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
26, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   20/30
28, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
28, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   18/30
30, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
30, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   16/30
32, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
32, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   14/30
34, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
34, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   12/30
36, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
36, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   10/30
38, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
38, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   8/30
40, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
40, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   6/30
42, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
42, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   4/30
44, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
44, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   2/30
46, 2,  3,  1,  0,  0,  0,  # 剑士攻击1方神迹
46, 3,  1,  3,  2,  0,  0,  # 神迹受到2点伤害   0/30
46, 5,  0,  0,  0,  0,  0,  # 0方玩家获胜，1方玩家失败
-1							# 结束

## 协议4 logic->replay

暂定为与协议三一致