# 游戏逻辑 - 文档

[toc]

## 单位名称对照

1. 剑士（Swordman）
2. 弓箭手（Archer）
3. 黑蝙蝠（BlackBat）
4. 牧师（Priest）
5. 火山之龙（VolcanoDragon）

## 神器名称对照

1. 塞瓦哈拉的圣光之耀（HolyLight）
2. 洛古萨斯的地狱之火（InfernoFlame）
   - 衍生的地狱火（Inferno）
3. 马尔瑞恩的阳炎之盾（SalamanderShield）

## 单位（Unit）

### 单位的属性

1. id：全局唯一的ID，依据召唤顺序生成，召唤顺序靠前的ID小
2. camp：单位所属阵营，一般情况下为0或者1
3. level：单位的等级
4. type：单位的类型
5. name：单位的名字，组成为“[类型] (level [等级])”
6. cost：单位的召唤花费
7. atk：单位的攻击力
8. max_hp：单位的血量上限
9. hp：单位的血量
10. atk_range：是一个二元元组，第一个数是单位攻击距离的最小值，第二个是最大值
11. max_move：是一个二元元组，第一个数是单位移动距离的最小值，第二个是最大值
12. cool_down：单位死亡后所需的冷却时间
13. pos：是一个三元元组，表示单位在地图上的坐标
14. flying：布尔类型，表示单位是否为飞行单位
15. atk_flying：布尔类型，表示单位是否能攻击飞行单位
16. agility：布尔类型，表示单位是否具有**迅捷**词条
17. holy_shield：布尔类型，表示单位是否具有**圣盾**

### 单位具有的默认监听器

1. 伤害监听器
2. 攻击监听器
3. 移动监听器
4. 反击监听器
5. 治疗监听器
6. 圣盾获得监听器
7. 圣盾破坏监听器

### 部分单位具有的特殊监听器

1. 牧师会根据等级获得治疗光环监听器或者攻击光环监听器
2. 火山之龙会获得攻击溅射监听器

## 事件（Event）

事件采取堆的形式存储，每个事件都有一个优先级和时间戳，两件事件中优先级高的事件或者相同优先度先触发的事件会先被广播并由监听器作出反应

